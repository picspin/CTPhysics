(()=>{var e={};e.id=120,e.ids=[120],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(8729),s(6441),s(5866);var i=s(3191),a=s(8716),r=s(7922),n=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["cardiac",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8729)),"E:\\Projects\\CTPhysics\\app\\cardiac\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6441)),"E:\\Projects\\CTPhysics\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\Projects\\CTPhysics\\app\\cardiac\\page.jsx"],m="/cardiac/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cardiac/page",pathname:"/cardiac",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3874:(e,t,s)=>{Promise.resolve().then(s.bind(s,2703))},2703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var i=s(326),a=s(7577),r=s.n(a),n=s(4445),l=s(891),o=s(6777),d=s(1910),c=s(6527),m=s(8690),p=s(6343),u=s(9522),x=s(1755);let h=()=>{let[e,t]=(0,a.useState)("prospective"),[s,n]=(0,a.useState)(70),[l,o]=(0,a.useState)(!1),[d,h]=(0,a.useState)([]),[g,j]=(0,a.useState)([]),[f,v]=(0,a.useState)(0),[y,b]=r().useState(!1);r().useEffect(()=>{let e=()=>{b(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.useEffect)(()=>{(()=>{let e=[],t=60/s;for(let s=0;s<250;s++){let i=s/50*t,a=s%50/50,r=0;a<.1?r=.3*Math.sin(a*Math.PI/.1):a>=.2&&a<.3?r=a<.22?-.2:a<.25?1:-.3:a>=.35&&a<.45&&(r=.4*Math.sin((a-.35)*Math.PI/.1)),r+=(Math.random()-.5)*.05,e.push({time:i,value:r})}h(e)})()},[s]),(0,a.useEffect)(()=>{let t;if(l){let i=()=>{v(t=>{let i=60/s,a=t+.02;if("prospective"===e){let e=Math.floor(a/i),s=Math.floor(t/i),r=a%i/i;(e>s||e===s&&r>=.7&&t%i/i<.7)&&j(e=>[...e,{time:a,value:C(a)}])}else Math.floor(20*a)>Math.floor(20*t)&&j(e=>[...e,{time:a,value:C(a)}]);return a>=5*i?(o(!1),0):a}),f<300/s&&(t=requestAnimationFrame(i))};t=requestAnimationFrame(i)}return()=>{cancelAnimationFrame(t)}},[l,f,s,e]);let C=e=>{let t=60/s,i=Math.floor(e%(5*t)/(5*t)*d.length);return d[i]?.value||0};return(0,i.jsxs)(m.Z,{title:"心脏门控模拟器",children:[(0,i.jsxs)("div",{className:"mb-4 space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsx(p.Z,{label:"门控类型",options:gatingTypes,value:e,onChange:t}),i.jsx(u.Z,{label:`心率: ${s} bpm`,min:50,max:100,value:s,onChange:n,step:5})]}),(0,i.jsxs)("div",{className:"rounded-md border border-border bg-bg-100 p-3 sm:p-4",children:[(0,i.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-text-100",children:"ECG波形与数据采集"}),i.jsx(x.Z,{onClick:()=>{o(!0),v(0),j([])},disabled:l,size:y?"sm":"md",children:l?"扫描中...":"开始扫描"})]}),(0,i.jsxs)("div",{className:"relative h-56 w-full overflow-hidden rounded-md bg-black p-2 sm:h-64",children:[i.jsx("div",{className:"absolute inset-0 grid grid-cols-10 grid-rows-10",children:Array.from({length:100}).map((e,t)=>i.jsx("div",{className:"border border-gray-800"},t))}),(0,i.jsxs)("svg",{className:"absolute inset-0 h-full w-full",viewBox:"0 0 1000 500",preserveAspectRatio:"none",children:[i.jsx("polyline",{points:d.map((e,t)=>`${e.time/(300/s)*1e3},${250-200*e.value}`).join(" "),fill:"none",stroke:"#4A90E2",strokeWidth:"2"}),l&&i.jsx("line",{x1:f/(300/s)*1e3,y1:"0",x2:f/(300/s)*1e3,y2:"500",stroke:"#FF8C00",strokeWidth:"2"}),g.map((t,a)=>i.jsx("circle",{cx:t.time/(300/s)*1e3,cy:250-200*t.value,r:y?"3":"4",fill:"prospective"===e?"#FF8C00":"#dc7000"},a))]}),i.jsx(c.E.div,{className:"absolute bottom-4 right-4 h-12 w-12 rounded-full bg-red-500 opacity-70 sm:h-16 sm:w-16",animate:{scale:[1,1.2,1],opacity:[.7,.9,.7]},transition:{duration:60/s,repeat:1/0,ease:"easeInOut"}})]}),(0,i.jsxs)("div",{className:"mt-4 flex flex-col justify-between space-y-2 text-sm text-text-200 sm:flex-row sm:space-y-0",children:[(0,i.jsxs)("span",{children:["采集点数量: ",g.length]}),i.jsx("span",{className:"text-xs sm:text-sm",children:"prospective"===e?"前瞻性门控: 仅在舒张中期采集数据":"回顾性门控: 连续采集整个心动周期的数据"})]})]})]}),(0,i.jsxs)("div",{className:"rounded-md bg-bg-200 p-3 text-sm text-text-200 sm:p-4",children:[i.jsx("h3",{className:"mb-2 font-medium text-text-100",children:"说明"}),i.jsx("p",{children:"此模拟器展示了心脏CT中的门控技术："}),(0,i.jsxs)("ul",{className:"mt-2 list-inside list-disc space-y-1",children:[(0,i.jsxs)("li",{children:[i.jsx("span",{className:"font-medium",children:"前瞻性门控"}),"：仅在预测的心动周期特定阶段（通常是舒张中期）获取数据，辐射剂量较低"]}),(0,i.jsxs)("li",{children:[i.jsx("span",{className:"font-medium",children:"回顾性门控"}),"：在整个心动周期连续获取数据，然后在重建时选择最佳相位，辐射剂量较高但可以评估心脏功能"]})]}),i.jsx("p",{className:"mt-2",children:"心率越高，心动周期越短，获取清晰图像的难度越大。"})]})]})},g=JSON.parse('{"TN":"心脏CT","WL":"本页面介绍心脏CT的基本原理，包括前瞻性和回顾性门控技术、时间分辨率和辐射剂量考虑。","NS":[{"id":"cardiac-gating","title":"心脏门控技术","description":"心脏CT扫描需要特殊的门控技术来减少心脏运动引起的伪影。","content":"心脏是一个不断运动的器官，这给CT成像带来了挑战。为了获得清晰的心脏图像，需要使用特殊的门控技术来减少心脏运动引起的伪影。有两种主要的门控技术：前瞻性门控和回顾性门控。","simulator":{"type":"cardiac-gating","options":{"gatingTypes":[{"id":"prospective","name":"前瞻性门控"},{"id":"retrospective","name":"回顾性门控"}],"heartRates":[60,70,80,90,100]}},"keyPoints":["前瞻性门控在预测的心动周期特定阶段（通常是舒张中期）获取数据","回顾性门控在整个心动周期连续获取数据，然后在重建时选择最佳相位","前瞻性门控辐射剂量较低，但对心率不规则的患者效果较差","回顾性门控允许评估心脏功能，但辐射剂量较高"]},{"id":"temporal-resolution","title":"时间分辨率","description":"时间分辨率是指CT扫描仪捕获移动物体清晰图像的能力，对心脏成像尤为重要。","content":"时间分辨率是指CT扫描仪捕获移动物体清晰图像的能力。对于心脏成像，高时间分辨率至关重要，因为心脏不断运动。时间分辨率主要取决于旋转时间（X射线管绕患者旋转一周所需的时间）。现代心脏CT扫描仪的旋转时间通常为0.28-0.35秒。然而，通过使用部分扫描重建技术，有效时间分辨率可以提高到旋转时间的一半左右。","keyPoints":["时间分辨率对心脏成像至关重要","旋转时间是决定时间分辨率的主要因素","部分扫描重建可以提高有效时间分辨率","双源CT扫描仪通过使用两个X射线管进一步提高时间分辨率"]},{"id":"radiation-dose","title":"辐射剂量","description":"心脏CT扫描的辐射剂量取决于多种因素，包括门控技术、扫描范围和患者特征。","content":"心脏CT扫描的辐射剂量取决于多种因素，包括门控技术、扫描范围和患者特征。回顾性门控通常比前瞻性门控的辐射剂量高3-4倍，因为它在整个心动周期连续获取数据。然而，现代CT扫描仪使用多种技术来减少辐射剂量，包括ECG调制（在心动周期的特定阶段降低管电流）、迭代重建和低kV成像。","simulator":{"type":"radiation-dose","options":{"gatingTypes":[{"id":"prospective","name":"前瞻性门控"},{"id":"retrospective","name":"回顾性门控"},{"id":"retrospective-modulation","name":"带ECG调制的回顾性门控"}],"patientSizes":[{"id":"small","name":"小型患者"},{"id":"medium","name":"中型患者"},{"id":"large","name":"大型患者"}]}},"keyPoints":["回顾性门控的辐射剂量通常比前瞻性门控高3-4倍","ECG调制可以在心动周期的非关键阶段降低管电流，减少辐射剂量","迭代重建和低kV成像可以进一步减少辐射剂量","患者特征（如体型）也会影响辐射剂量"]},{"id":"clinical-applications","title":"临床应用","description":"心脏CT在多种临床情况下有重要应用，包括冠状动脉疾病评估、结构性心脏病和术前规划。","content":"心脏CT在多种临床情况下有重要应用。最常见的应用是冠状动脉疾病的评估，特别是对于有中等冠心病风险的患者。心脏CT还可用于评估心脏结构（如心脏瓣膜、心房和心室）、先天性心脏病和心脏肿瘤。此外，它在术前规划（如经导管主动脉瓣置换术和冠状动脉旁路移植术）中也发挥着重要作用。","keyPoints":["冠状动脉疾病评估是心脏CT最常见的应用","心脏CT可用于评估心脏结构和先天性心脏病","心脏CT在术前规划中发挥重要作用","心脏CT的高阴性预测值使其成为排除冠状动脉疾病的有效工具"]}]}');function j(){return(0,i.jsxs)("div",{className:"space-y-8 animate-fadeIn",children:[i.jsx(n.Z,{title:g.TN,description:g.WL}),g.NS.map(e=>i.jsx(l.Z,{title:e.title,description:e.description,className:"hover-lift",children:(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-text-200",children:e.content}),e.keyPoints&&i.jsx(o.Z,{points:e.keyPoints})]})},e.id)),i.jsx(d.Z,{title:"心脏CT门控模拟器",children:i.jsx(h,{})})]})}},1755:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(326);s(7577);let a=({children:e,onClick:t,disabled:s=!1,size:a="md",className:r=""})=>i.jsx("button",{onClick:t,disabled:s,className:`rounded-md bg-primary-100 ${{sm:"px-2 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[a]} font-medium text-white shadow-sm transition-colors hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${r}`,children:e})},8729:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8570).createProxy)(String.raw`E:\Projects\CTPhysics\app\cardiac\page.jsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[649,891,237],()=>s(4910));module.exports=i})();